(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{56697:(e,s,t)=>{Promise.resolve().then(t.bind(t,62668))},62668:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(95155),r=t(12115),l=t(45493),n=t(35695),i=t(6874),o=t.n(i),d=t(35654),c=t(59834),m=t(34643),x=t(47157);let h=e=>{let{isOpen:s,onClose:t,onConfirm:l,title:n="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:o="Continue",cancelText:d="Cancel"}=e,x=r.useRef(null);return r.useEffect(()=>{s&&x.current&&x.current.focus()},[s]),(0,a.jsxs)(c.aF,{isOpen:s,onClose:t,title:n,size:"md",closeOnOverlayClick:!1,closeOnEscape:!0,children:[(0,a.jsx)(c.cw,{children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-body text-neutral-700 leading-relaxed",id:"confirmation-message",role:"alert","aria-live":"polite",children:i})})]})}),(0,a.jsxs)(c.jl,{children:[(0,a.jsx)(m.$,{ref:x,variant:"ghost",onClick:t,"aria-describedby":"confirmation-message",children:d}),(0,a.jsx)(m.$,{variant:"danger",onClick:l,"aria-describedby":"confirmation-message",children:o})]})]})},u=e=>{let{isOpen:s,onClose:t,onConfirm:l,title:n="Final Confirmation",message:i="This action cannot be undone. Please type the confirmation text below:",confirmationText:o="DELETE ALL DATA",placeholder:d="Type confirmation text here...",confirmText:h="Confirm Deletion",cancelText:u="Cancel",loading:p=!1}=e,[j,g]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),b=r.useRef(null),y=r.useRef(null),N=j.trim()===o,w=()=>{if(!N)return void v('Please type "'.concat(o,'" exactly as shown'));v(""),l()},k=()=>{g(""),v(""),t()};return r.useEffect(()=>{s?setTimeout(()=>{b.current&&b.current.focus()},100):(g(""),v(""))},[s]),(0,a.jsxs)(c.aF,{isOpen:s,onClose:k,title:n,size:"md",closeOnOverlayClick:!1,closeOnEscape:!0,children:[(0,a.jsx)(c.cw,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-body text-neutral-700 leading-relaxed mb-4",id:"confirmation-instructions",role:"alert","aria-live":"polite",children:i})})]}),(0,a.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-body-sm text-neutral-600 mb-1",id:"confirmation-label",children:"Type this text exactly:"}),(0,a.jsx)("p",{className:"font-mono text-body font-semibold text-red-600 bg-white border border-neutral-300 rounded px-2 py-1",id:"confirmation-text","aria-label":"Required confirmation text: ".concat(o),children:o})]}),(0,a.jsx)("div",{children:(0,a.jsx)(x.p,{ref:b,value:j,onChange:e=>{let s=e.target.value;g(s),f&&s.trim()===o&&v("")},onKeyDown:e=>{"Enter"===e.key&&N&&!p&&(e.preventDefault(),w())},placeholder:d,error:f,className:"font-mono",autoComplete:"off","aria-labelledby":"confirmation-label","aria-describedby":"confirmation-text confirmation-instructions","aria-required":"true","aria-invalid":!!f})})]})}),(0,a.jsxs)(c.jl,{children:[(0,a.jsx)(m.$,{ref:y,variant:"ghost",onClick:k,disabled:p,"aria-describedby":"confirmation-instructions",children:u}),(0,a.jsx)(m.$,{variant:"danger",onClick:w,disabled:!N||p,loading:p,"aria-describedby":"confirmation-instructions","aria-label":N?h:"".concat(h,' (requires typing "').concat(o,'")'),children:h})]})]})},p=e=>{let{isOpen:s,onClose:t,onRegenerateData:l,title:n="Success",message:i="Operation completed successfully.",showRegenerateOption:o=!1,regenerateText:d="Generate Sample Data",closeText:x="Close"}=e,h=r.useRef(null);return r.useEffect(()=>{s&&h.current&&setTimeout(()=>{var e;null==(e=h.current)||e.focus()},100)},[s]),(0,a.jsxs)(c.aF,{isOpen:s,onClose:t,title:n,size:"md",closeOnOverlayClick:!0,closeOnEscape:!0,children:[(0,a.jsx)(c.cw,{children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-green-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-body text-neutral-700 leading-relaxed",id:"success-message",role:"status","aria-live":"polite",children:i})})]})}),(0,a.jsxs)(c.jl,{children:[o&&l&&(0,a.jsx)(m.$,{variant:"outline",onClick:l,"aria-describedby":"success-message",children:d}),(0,a.jsx)(m.$,{ref:h,variant:"primary",onClick:t,"aria-describedby":"success-message",children:x})]})]})};function j(){var e;let{data:s,status:t}=(0,l.wV)(),i=(0,n.useRouter)(),[x,j]=(0,r.useState)([]),[g,f]=(0,r.useState)(!0),[v,b]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),[C,S]=(0,r.useState)(""),[L,M]=(0,r.useState)(!1),[D,_]=(0,r.useState)([]),[E,T]=(0,r.useState)(!1),[O,A]=(0,r.useState)(!1),[z,B]=(0,r.useState)(!1),[F,R]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),[V,P]=(0,r.useState)(null),[U,$]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(null),I=()=>{var e;if(null==s||null==(e=s.user)?void 0:e.email){let e=s.user.email.toLowerCase().replace(/[^a-z0-9]/g,"");return"demo-user-".concat(e.slice(0,8))}return"demo-user-default"};(0,r.useEffect)(()=>{{let e=I(),s=(0,d.UB)(e||"demo-user-default");q(s),s.available?((0,d.X0)(e||"demo-user-default"),G()):b(s.error||"localStorage is not available")}},[!0]),(0,r.useEffect)(()=>{},[s,t,i,!0]),(0,r.useEffect)(()=>{G()},[s,!0]);let G=async()=>{try{f(!0);{let e=I(),s=(0,d.Fr)(e||"demo-user-default").map(e=>({id:e.id,name:e.name,description:e.description,created_at:e.createdAt,updated_at:e.updatedAt,traditional_payoff_months:e.traditionalPayoffMonths,heloc_payoff_months:e.helocPayoffMonths,interest_saved:e.interestSaved,is_public:e.isPublic,public_share_token:e.publicShareToken}));j(s)}}catch(e){b("Failed to load scenarios")}finally{f(!1)}},J=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),K=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),X=async()=>{if(V)try{$(!0);{let e=I();if(!(0,d.R$)(V,e||"demo-user-default"))throw Error("Scenario not found")}j(e=>e.filter(e=>e.id!==V)),H(!1),P(null)}catch(e){b(e instanceof Error?e.message:"Failed to delete scenario"),H(!1),P(null)}finally{$(!1)}},Q=()=>{H(!1),P(null)},Z=e=>{i.push("/calculator?edit=".concat(e))},ee=async e=>{let s=new URLSearchParams({duplicate:e.id,name:"".concat(e.name," (Copy)")});i.push("/calculator?".concat(s.toString()))},es=async e=>{k(e),e.is_public&&e.public_share_token?(S("".concat(window.location.origin,"/shared/").concat(e.public_share_token)),N(!0)):await et(e.id,!0)},et=async(e,s)=>{try{M(!0);let t=await fetch("/heloc/api/scenario/".concat(e,"/share"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enable:s})});if(!t.ok)throw Error("Failed to update sharing settings");let a=await t.json();if(a.success)s&&a.data.shareUrl&&(S(a.data.shareUrl),N(!0)),j(s=>s.map(s=>s.id===e?{...s,is_public:a.data.isPublic,public_share_token:a.data.shareToken}:s));else throw Error(a.error||"Failed to update sharing settings")}catch(e){b("Failed to update sharing settings")}finally{M(!1)}},ea=async()=>{try{await navigator.clipboard.writeText(C),alert("Share link copied to clipboard!")}catch(s){let e=document.createElement("textarea");e.value=C,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("Share link copied to clipboard!")}},er=async()=>{try{R(!0);let e=I();(0,d.WQ)(e||"demo-user-default"),j([]),_([]),A(!1),B(!0)}catch(e){b(e instanceof Error?e.message:"Failed to clear demo data"),A(!1)}finally{R(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Demo Mode Dashboard"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-green-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"✅ Features Available:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"• Save & manage scenarios locally"}),(0,a.jsx)("li",{children:"• Edit and delete scenarios"}),(0,a.jsx)("li",{children:"• Compare multiple scenarios"}),(0,a.jsx)("li",{children:"• Export and share results"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Demo Info:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"• Data persists in your browser"}),(0,a.jsx)("li",{children:"• Sample scenarios pre-loaded"}),(0,a.jsx)("li",{children:"• No account required"}),(0,a.jsx)("li",{children:"• Full calculator functionality"})]})]})]})]})]})}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Demo Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Explore HELOC acceleration scenarios in demo mode. All data is stored locally in your browser."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Scenarios"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Potential Savings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:x.length>0?J(x.reduce((e,s)=>e+(s.interest_saved||0),0)):"$0"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Time Saved"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:x.length>0?"".concat(Math.round(x.reduce((e,s)=>e+((s.traditional_payoff_months||0)-(s.heloc_payoff_months||0)),0)/12)," years"):"0 years"})]})]})})]}),Y&&!Y.available&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Storage Not Available"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:Y.error||"Your browser does not support localStorage or it is disabled. Demo data cannot be saved between sessions."})]})]})}),(null==Y?void 0:Y.available)&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-8",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Demo Data Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your demo scenarios and data stored in your browser"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-md font-medium text-gray-900",children:"Data Overview"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Stored Scenarios:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:x.length})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Storage Used:"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(Y&&Y.used>1048576?"text-yellow-600":Y&&Y.used>2097152?"text-red-600":"text-gray-900"),children:[Y?Math.round(Y.used/1024):Math.round(JSON.stringify(x).length/1024)," KB",Y&&Y.used>1048576&&(0,a.jsx)("span",{className:"ml-1 text-xs",children:"⚠️"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Last Updated:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:x.length>0?new Date(Math.max(...x.map(e=>new Date(e.updated_at).getTime()))).toLocaleDateString():"No data"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-md font-medium text-gray-900",children:"Data Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>{T(!0)},className:"w-full flex items-center justify-center px-4 py-3 border border-red-300 rounded-lg text-red-700 bg-red-50 hover:bg-red-100 transition duration-200 font-medium",disabled:0===x.length,children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All Demo Data"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-yellow-600 mr-2 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-yellow-800 mb-1",children:"⚠️ Important:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-yellow-700",children:[(0,a.jsx)("li",{children:"• Clearing data will permanently delete all scenarios"}),(0,a.jsx)("li",{children:"• This action cannot be undone"}),(0,a.jsx)("li",{children:"• Data is only stored in your browser"}),(0,a.jsx)("li",{children:"• You can regenerate sample data after clearing"})]})]})]})})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Scenarios"}),D.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[D.length," selected for comparison"]}),D.length>=2&&(0,a.jsx)("button",{onClick:()=>{if(D.length>=2){let e=new URLSearchParams({scenarios:D.join(",")});i.push("/compare?".concat(e.toString()))}},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm font-medium transition duration-200",children:"Compare"}),(0,a.jsx)("button",{onClick:()=>_([]),className:"text-gray-400 hover:text-gray-600",title:"Clear selection",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[x.length>=2&&(0,a.jsx)(o(),{href:"/compare",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition duration-200",children:"Compare Scenarios"}),(0,a.jsx)(o(),{href:"/calculator",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition duration-200",children:"Create New Scenario"})]})]})}),(0,a.jsx)("div",{className:"p-6",children:g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading scenarios..."})]}):v?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-red-600 mb-2",children:(0,a.jsx)("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsx)("p",{className:"text-red-600",children:v}),(0,a.jsx)("button",{onClick:G,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"Try Again"})]}):0===x.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scenarios yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first HELOC acceleration scenario to get started."}),(0,a.jsx)(o(),{href:"/calculator",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md font-medium transition duration-200",children:"Create Your First Scenario"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition duration-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",checked:D.includes(e.id),onChange:()=>{var s;return s=e.id,void _(e=>e.includes(s)?e.filter(e=>e!==s):e.length<3?[...e,s]:[e[1],e[2],s])},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:!D.includes(e.id)&&D.length>=3}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>Z(e.id),className:"text-gray-400 hover:text-blue-600 transition duration-200",title:"Edit scenario",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:()=>ee(e),className:"text-gray-400 hover:text-green-600 transition duration-200",title:"Duplicate scenario",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,a.jsx)("button",{onClick:()=>{P(e.id),H(!0)},className:"text-gray-400 hover:text-red-600 transition duration-200",title:"Delete scenario",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),e.description&&(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[e.interest_saved&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Interest Saved:"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:J(e.interest_saved)})]}),e.traditional_payoff_months&&e.heloc_payoff_months&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Time Saved:"}),(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:[Math.round((e.traditional_payoff_months-e.heloc_payoff_months)/12)," years"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-4",children:[(0,a.jsxs)("span",{children:["Created: ",K(e.created_at)]}),(0,a.jsxs)("span",{children:["Updated: ",K(e.updated_at)]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>Z(e.id),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm font-medium transition duration-200",children:"View & Edit"}),(0,a.jsx)("button",{onClick:()=>es(e),className:"px-3 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 hover:bg-gray-50 transition duration-200",title:"Share scenario",children:e.is_public?"Shared":"Share"})]})]},e.id))})})]})]}),y&&w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Share Scenario"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:['Share "',w.name,'" with others using this link:']}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm"}),(0,a.jsx)("button",{onClick:ea,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm font-medium transition duration-200",children:"Copy"})]})]}),(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,a.jsx)("strong",{children:"Note:"})," Anyone with this link can view your scenario data. You can disable sharing at any time."]})})]})}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{et(w.id,!1),N(!1)},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-md font-medium transition duration-200",disabled:L,children:"Disable Sharing"}),(0,a.jsx)("button",{onClick:()=>N(!1),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition duration-200",children:"Done"})]})]})}),(0,a.jsxs)(c.aF,{isOpen:W,onClose:Q,title:"Delete Scenario",size:"md",closeOnOverlayClick:!1,closeOnEscape:!0,children:[(0,a.jsx)(c.cw,{children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("p",{className:"text-body text-neutral-700 leading-relaxed",children:["Are you sure you want to delete ",(0,a.jsxs)("strong",{children:['"',(null==(e=x.find(e=>e.id===V))?void 0:e.name)||"this scenario",'"']}),"? This action cannot be undone."]})})]})}),(0,a.jsxs)(c.jl,{children:[(0,a.jsx)(m.$,{variant:"ghost",onClick:Q,disabled:U,children:"Cancel"}),(0,a.jsx)(m.$,{variant:"danger",onClick:X,loading:U,children:"Delete"})]})]}),(0,a.jsx)(h,{isOpen:E,onClose:()=>{T(!1)},onConfirm:()=>{T(!1),A(!0)},title:"⚠️ Clear All Demo Data",message:"This will permanently delete all your saved scenarios and calculations. This action cannot be undone. Are you sure you want to continue?",confirmText:"Yes, Continue",cancelText:"Cancel"}),(0,a.jsx)(u,{isOpen:O,onClose:()=>{A(!1)},onConfirm:er,title:"\uD83D\uDEA8 Final Confirmation",message:"This will permanently delete all your demo data. This action cannot be undone.",confirmationText:"DELETE ALL DATA",placeholder:"Type the confirmation text exactly as shown...",confirmText:"Confirm Deletion",cancelText:"Cancel",loading:F}),(0,a.jsx)(p,{isOpen:z,onClose:()=>{B(!1)},onRegenerateData:()=>{let e=I();(0,d.X0)(e||"demo-user-default"),G(),B(!1)},title:"✅ Demo Data Cleared",message:"All demo data has been successfully cleared from your browser. You can now start fresh or regenerate sample data to explore the application.",showRegenerateOption:!0,regenerateText:"Generate Sample Data",closeText:"Close"})]})}}},e=>{e.O(0,[76,96,358],()=>e(e.s=56697)),_N_E=e.O()}]);