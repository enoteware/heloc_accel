@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Design System CSS */
@import "../styles/design-system.css";
@import "../styles/contrast-safe.css";
@import "../styles/animations.css";
@import "../styles/dark-mode.css";
@import "../styles/stack-auth-overrides.css";

/* Semantic design tokens (light) */
:root {
  /* Base */
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;

  /* Surfaces */
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;

  /* Brand */
  --primary: 221 83% 53%;
  --primary-foreground: 0 0% 100%;
  --secondary: 210 40% 96.1%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --accent: 45 95% 57%;
  --accent-foreground: 0 0% 10%;

  /* Neutrals */
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;

  /* Status */
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;

  /* Borders/inputs */
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 221 83% 53%;

  /* Radius */
  --radius: 0.5rem;
}

/* Semantic design tokens (dark) */
.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;

  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;

  --primary: 221 83% 53%;
  --primary-foreground: 0 0% 100%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --accent: 45 95% 57%;
  --accent-foreground: 0 0% 10%;

  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;

  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 85.7% 97.3%;

  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 221 83% 53%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Print Styles for Report Generation */
@media print {
  /* Hide everything except the printable report */
  body > * {
    display: none !important;
  }

  .print\:block {
    display: block !important;
  }

  /* Remove margins and padding */
  body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
  }

  /* Ensure color printing */
  * {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Page setup */
  @page {
    size: letter;
    margin: 0.5in;
  }

  /* Prevent page breaks inside important elements */
  .printable-report section {
    page-break-inside: avoid;
  }

  /* Ensure backgrounds are printed */
  .bg-gradient-to-r,
  .bg-blue-50,
  .bg-blue-100,
  .bg-green-50,
  .bg-green-100,
  .bg-gray-50,
  .bg-gray-100,
  .bg-yellow-50,
  .bg-purple-50,
  .bg-purple-100 {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}

/* Critical fix for input text color visibility */
body:not(.dark) input,
body:not(.dark) textarea,
body:not(.dark) select {
  color: rgb(17 24 39) !important;
  -webkit-text-fill-color: rgb(17 24 39) !important;
}

/* Ensure filled inputs are visible */
body:not(.dark) input:not(:placeholder-shown),
body:not(.dark) textarea:not(:placeholder-shown) {
  color: rgb(17 24 39) !important;
  -webkit-text-fill-color: rgb(17 24 39) !important;
}

/* Override for blue-gray text specifically in save scenario modal */
body:not(.dark) .text-blue-gray-700 {
  color: rgb(55 65 81) !important;
  -webkit-text-fill-color: rgb(55 65 81) !important;
}

/* Override for important blue-gray text */
body:not(.dark) [class*="!text-blue-gray-700"] {
  color: rgb(55 65 81) !important;
  -webkit-text-fill-color: rgb(55 65 81) !important;
}

/* Dot pattern backgrounds for Hero Highlight */
.bg-dot-thick-neutral-300 {
  background-image: radial-gradient(
    circle,
    rgb(212 212 212) 1px,
    transparent 1px
  );
  background-size: 20px 20px;
}

.dark .bg-dot-thick-neutral-800 {
  background-image: radial-gradient(circle, rgb(38 38 38) 1px, transparent 1px);
  background-size: 20px 20px;
}
