@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Design System CSS */
@import '../styles/design-system.css';
@import '../styles/contrast-safe.css';
@import '../styles/animations.css';
@import '../styles/dark-mode.css';
@import '../styles/stack-auth-overrides.css';

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Print Styles for Report Generation */
@media print {
  /* Hide everything except the printable report */
  body > * {
    display: none !important;
  }
  
  .print\:block {
    display: block !important;
  }
  
  /* Remove margins and padding */
  body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
  }
  
  /* Ensure color printing */
  * {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Page setup */
  @page {
    size: letter;
    margin: 0.5in;
  }
  
  /* Prevent page breaks inside important elements */
  .printable-report section {
    page-break-inside: avoid;
  }
  
  /* Ensure backgrounds are printed */
  .bg-gradient-to-r,
  .bg-blue-50,
  .bg-blue-100,
  .bg-green-50,
  .bg-green-100,
  .bg-gray-50,
  .bg-gray-100,
  .bg-yellow-50,
  .bg-purple-50,
  .bg-purple-100 {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}

/* Critical fix for input text color visibility */
body:not(.dark) input,
body:not(.dark) textarea,
body:not(.dark) select {
  color: rgb(17 24 39) !important;
  -webkit-text-fill-color: rgb(17 24 39) !important;
}

/* Ensure filled inputs are visible */
body:not(.dark) input:not(:placeholder-shown),
body:not(.dark) textarea:not(:placeholder-shown) {
  color: rgb(17 24 39) !important;
  -webkit-text-fill-color: rgb(17 24 39) !important;
}

/* Override for blue-gray text specifically in save scenario modal */
body:not(.dark) .text-blue-gray-700,
body:not(.dark) .\\!text-blue-gray-700,
body:not(.dark) input.\\!text-blue-gray-700,
body:not(.dark) textarea.\\!text-blue-gray-700 {
  color: rgb(55 65 81) !important;
  -webkit-text-fill-color: rgb(55 65 81) !important;
}

/* Dot pattern backgrounds for Hero Highlight */
.bg-dot-thick-neutral-300 {
  background-image: radial-gradient(circle, rgb(212 212 212) 1px, transparent 1px);
  background-size: 20px 20px;
}

.dark .bg-dot-thick-neutral-800 {
  background-image: radial-gradient(circle, rgb(38 38 38) 1px, transparent 1px);
  background-size: 20px 20px;
}
