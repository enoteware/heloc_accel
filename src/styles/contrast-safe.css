@reference "tailwindcss";
/*
 * HELOC Accelerator - Contrast-Safe Utility Classes (semantic tokens)
 *
 * All classes below are implemented with CSS variables from `themes.css`
 * to ensure automatic light/dark support.
 */

/* Contrast-Safe Text on Background */
.text-on-primary {
  color: rgb(var(--color-primary-foreground));
}
.text-on-secondary {
  color: rgb(var(--color-secondary-foreground));
}
.text-on-accent {
  color: rgb(var(--color-accent-foreground));
}
.text-on-light {
  color: rgb(var(--color-foreground));
}
.text-on-dark {
  color: rgb(var(--color-foreground-inverse));
}
.text-on-white {
  color: rgb(var(--color-foreground));
}

/* Status text helpers */
.text-on-success {
  color: rgb(var(--color-success-foreground));
}
.text-on-warning {
  color: rgb(var(--color-warning-foreground));
}
.text-on-danger {
  color: rgb(var(--color-error-foreground));
}
.text-on-info {
  color: rgb(var(--color-info-foreground));
}

/* Compound Safe Classes - Background + Text */
.safe-primary {
  background-color: rgb(var(--color-primary));
  color: rgb(var(--color-primary-foreground));
}

.safe-primary-light {
  background-color: rgb(var(--color-primary) / 0.15);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-primary) / 0.3);
}

.safe-secondary {
  background-color: rgb(var(--color-secondary));
  color: rgb(var(--color-secondary-foreground));
}

.safe-secondary-light {
  background-color: rgb(var(--color-secondary) / 0.15);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-secondary) / 0.3);
}

.safe-neutral-light {
  background-color: rgb(var(--color-surface-secondary));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}

.safe-neutral-dark {
  background-color: rgb(var(--color-surface));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}

.safe-success {
  background-color: rgb(var(--color-success));
  color: rgb(var(--color-success-foreground));
}

.safe-success-light {
  background-color: rgb(var(--color-success-background));
  color: rgb(var(--color-success));
  border: 1px solid rgb(var(--color-success-border));
}

.safe-warning {
  background-color: rgb(var(--color-warning));
  color: rgb(var(--color-warning-foreground));
}

.safe-warning-light {
  background-color: rgb(var(--color-warning-background));
  color: rgb(var(--color-warning));
  border: 1px solid rgb(var(--color-warning-border));
}

.safe-danger {
  background-color: rgb(var(--color-error));
  color: rgb(var(--color-error-foreground));
}

.safe-danger-light {
  background-color: rgb(var(--color-error-background));
  color: rgb(var(--color-error));
  border: 1px solid rgb(var(--color-error-border));
}

.safe-info {
  background-color: rgb(var(--color-info));
  color: rgb(var(--color-info-foreground));
}

.safe-info-light {
  background-color: rgb(var(--color-info-background));
  color: rgb(var(--color-info));
  border: 1px solid rgb(var(--color-info-border));
}

/* Interactive States - Hover/Focus (token-based) */
.safe-primary-interactive {
  background-color: rgb(var(--color-primary));
  color: rgb(var(--color-primary-foreground));
}
.safe-primary-interactive:hover {
  background-color: rgb(var(--color-primary) / 0.9);
}
.safe-primary-interactive:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-primary) / 0.4);
}

.safe-secondary-interactive {
  background-color: rgb(var(--color-secondary));
  color: rgb(var(--color-secondary-foreground));
}
.safe-secondary-interactive:hover {
  background-color: rgb(var(--color-secondary) / 0.9);
}
.safe-secondary-interactive:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-secondary) / 0.4);
}

.safe-outline-interactive {
  background-color: transparent;
  color: rgb(var(--color-primary));
  border: 1px solid rgb(var(--color-border));
}
.safe-outline-interactive:hover {
  background-color: rgb(var(--color-surface-secondary));
  border-color: rgb(var(--color-primary));
}
.safe-outline-interactive:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-primary) / 0.4);
}

.safe-ghost-interactive {
  background-color: transparent;
  color: rgb(var(--color-foreground));
}
.safe-ghost-interactive:hover {
  background-color: rgb(var(--color-surface-secondary));
  color: rgb(var(--color-foreground));
}
.safe-ghost-interactive:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgb(var(--color-border-focus) / 0.4);
}

/* Card Variants */
.safe-card-light {
  background-color: rgb(var(--color-surface));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}

.safe-card-dark {
  background-color: rgb(var(--color-background-secondary));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}

.safe-card-primary {
  background-color: rgb(var(--color-primary) / 0.1);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-primary) / 0.3);
}

.safe-card-secondary {
  background-color: rgb(var(--color-secondary) / 0.1);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-secondary) / 0.3);
}

/* Alert Variants */
.safe-alert-info {
  background-color: rgb(var(--color-info-background));
  color: rgb(var(--color-info));
  border: 1px solid rgb(var(--color-info-border));
}

.safe-alert-success {
  background-color: rgb(var(--color-success-background));
  color: rgb(var(--color-success));
  border: 1px solid rgb(var(--color-success-border));
}

.safe-alert-warning {
  background-color: rgb(var(--color-warning-background));
  color: rgb(var(--color-warning));
  border: 1px solid rgb(var(--color-warning-border));
}

.safe-alert-danger {
  background-color: rgb(var(--color-error-background));
  color: rgb(var(--color-error));
  border: 1px solid rgb(var(--color-error-border));
}

/* Badge Variants */
.safe-badge-primary {
  background-color: rgb(var(--color-primary) / 0.15);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-primary) / 0.3);
}

.safe-badge-secondary {
  background-color: rgb(var(--color-secondary) / 0.15);
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-secondary) / 0.3);
}

.safe-badge-success {
  background-color: rgb(var(--color-success-background));
  color: rgb(var(--color-success));
  border: 1px solid rgb(var(--color-success-border));
}

.safe-badge-warning {
  background-color: rgb(var(--color-warning-background));
  color: rgb(var(--color-warning));
  border: 1px solid rgb(var(--color-warning-border));
}

.safe-badge-danger {
  background-color: rgb(var(--color-error-background));
  color: rgb(var(--color-error));
  border: 1px solid rgb(var(--color-error-border));
}

.safe-badge-neutral {
  background-color: rgb(var(--color-surface-secondary));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}

/* Input Safe Styles */
.safe-input {
  background-color: rgb(var(--color-background));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}
.safe-input::placeholder {
  color: rgb(var(--color-foreground-muted));
}
.safe-input:focus {
  outline: none;
  border-color: rgb(var(--color-border-focus));
  box-shadow: 0 0 0 2px rgb(var(--color-border-focus) / 0.3);
}

.safe-input-dark {
  background-color: rgb(var(--color-surface));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-border));
}
.safe-input-dark::placeholder {
  color: rgb(var(--color-foreground-muted));
}
.safe-input-dark:focus {
  outline: none;
  border-color: rgb(var(--color-border-focus));
  box-shadow: 0 0 0 2px rgb(var(--color-border-focus) / 0.3);
}

.safe-input-error {
  background-color: rgb(var(--color-background));
  color: rgb(var(--color-foreground));
  border: 1px solid rgb(var(--color-error-border));
}
.safe-input-error:focus {
  outline: none;
  border-color: rgb(var(--color-error));
  box-shadow: 0 0 0 2px rgb(var(--color-error) / 0.3);
}

/* Link Safe Styles */
.safe-link {
  color: rgb(var(--color-primary));
  text-decoration: underline;
}
.safe-link:hover {
  color: rgb(var(--color-primary) / 0.9);
}

.safe-link-light {
  color: rgb(var(--color-primary));
  text-decoration: underline;
}
.safe-link-light:hover {
  color: rgb(var(--color-primary) / 0.9);
}

.safe-link-on-dark {
  color: rgb(var(--color-primary));
  text-decoration: underline;
}
.safe-link-on-dark:hover {
  color: rgb(var(--color-primary) / 0.85);
}

/* Utility Classes for Manual Override */
.force-readable {
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
  font-weight: 500;
}

.force-readable-light {
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
  font-weight: 500;
  color: rgb(var(--color-foreground));
}

/* Debugging Helper - highlight dangerous combos if surfaced */
@media screen and (max-width: 0px) {
  .bg-white.text-white,
  .bg-[rgb(var(--color-surface-secondary))].text-[rgb(var(--color-foreground))] {
    outline: 3px solid red !important;
    outline-offset: -3px !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .safe-primary {
    background-color: rgb(var(--color-primary));
    color: rgb(var(--color-primary-foreground));
  }
  .safe-secondary {
    background-color: rgb(var(--color-secondary));
    color: rgb(var(--color-secondary-foreground));
  }
}
